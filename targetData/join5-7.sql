

  CREATE TABLE t1(x);
  INSERT INTO t1 VALUES(1);



  CREATE TABLE t2(x, y, z);
  CREATE INDEX t2xy ON t2(x, y);
  WITH s(i) AS (
    SELECT 1 UNION ALL SELECT i+1 FROM s WHERE i<50000
  )
  INSERT INTO t2 SELECT i/10, i, NULL FROM s;
  ANALYZE;


S
Q


  CREATE TABLE t3(x);
  INSERT INTO t3(x) VALUES(1);
  CREATE INDEX t3x ON t3(x);

  CREATE TABLE t4(x, y, z);
  CREATE INDEX t4xy ON t4(x, y);
  CREATE INDEX t4xz ON t4(x, z);

  WITH s(i) AS ( SELECT 1 UNION ALL SELECT i+1 FROM s WHERE i<50000)
  INSERT INTO t4 SELECT i/10, i, i FROM s;

  ANALYZE;
  UPDATE sqlite_stat1 SET stat='1000000 10 1' WHERE idx='t3x';
  ANALYZE sqlite_schema;


S
Q

S
Q

S
Q

S
Q
